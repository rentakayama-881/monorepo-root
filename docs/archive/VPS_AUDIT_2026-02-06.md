# VPS Audit Report

Date: 2026-02-06
Scope: `/home/alep/monorepo-root` + runtime/dependency footprint on VPS

## Summary
This VPS currently runs backend services only, with frontend deployed on Vercel.

Active runtime observed:
- Go backend on `127.0.0.1:8080`
- Feature service (.NET) on `127.0.0.1:5000`
- Redis on `127.0.0.1:6379`
- MongoDB via Docker container `mongo44` (`mongo:4.4`, restart policy `unless-stopped`) on `127.0.0.1:27017`
- Nginx on `:80` and `:443`

Health checks after cleanup:
- `GET http://127.0.0.1:8080/api/health` -> OK
- `GET http://127.0.0.1:5000/api/v1/health` -> OK

## Disk Findings (Before)
- `/` filesystem: `12G/30G` used (41%)
- Repo: `/home/alep/monorepo-root` = `1.5G`
- User caches:
  - `/home/alep/.npm` = `781M`
  - `/home/alep/.nuget` = `811M`
  - `/home/alep/.cache/go-build` = `596M`
  - `/home/alep/go/pkg` = `439M`
- System caches/logs:
  - `/var/cache/apt` = `483M`
  - `/var/lib/apt/lists` = `137M`
  - `/var/log/journal` = `118M`

Largest repo clutter before cleanup:
- `frontend/node_modules` = `791M`
- `feature-service` build/test artifacts (`publish`, `publish_out`, `bin`, `obj`) > `460M` total footprint including tests/build outputs
- `backend/app` local binary = `57M`

## Cleanup Performed
Removed workspace build artifacts/cache (safe to regenerate):
- `frontend/node_modules`
- `frontend/.next`
- `frontend/.swc`
- `frontend/tsconfig.tsbuildinfo`
- `backend/app`
- `feature-service/publish`
- `feature-service/publish_out`
- `feature-service/src/FeatureService.Api/bin`
- `feature-service/src/FeatureService.Api/obj`
- `feature-service/tests/FeatureService.Api.Tests/bin`
- `feature-service/tests/FeatureService.Api.Tests/obj`

Cleared user/system caches:
- npm cache (`~/.npm`)
- NuGet cache (`~/.nuget`, `~/.local/share/NuGet/http-cache`)
- Go caches (`~/.cache/go-build`, `~/go/pkg/mod`, `~/go/pkg/sumdb`)
- APT caches/indexes (`/var/cache/apt`, `/var/lib/apt/lists`)
- Journal vacuum (reduced archived journal files)

## Disk State (After)
- `/` filesystem: `6.6G/30G` used (24%)
- `/home/alep` = `796M`
- `/home/alep/monorepo-root` = `164M`
- `/home/alep/.npm` = `4.0K`
- `/home/alep/.nuget` = `24K`
- `/home/alep/.cache/go-build` = `4.0K`
- `/home/alep/go/pkg` = `4.0K`
- `/var/cache/apt` = `12K`
- `/var/lib/apt/lists` = `8.0K`
- `/var/log/journal` = `65M`

Estimated reclaimed storage: ~`5.4G` on root filesystem.

## Potential Unused Installations (Needs Decision)
Installed packages currently include:
- `nodejs` (20.x)
- `.NET SDK 8.0` (`dotnet-sdk-8.0`) + runtimes
- `mongodb-org` server packages + tools
- `docker.io`

Based on current runtime:
- MongoDB is running from Docker container (`mongo:4.4`), not host `mongod` service.
- If you do not use host Mongo binaries/services, `mongodb-org*` host packages are likely removable.
- If frontend build/development is never done on this VPS, `nodejs` is likely removable.
- If no in-place .NET build is done on VPS (deploy artifact-only), `dotnet-sdk-8.0` may be removable while keeping `aspnetcore-runtime-8.0`.

Do not remove these without confirming your workflow.

## Notes
- Existing unrelated working tree change detected before audit and intentionally untouched: `frontend/public/favicon.svg` (deleted in local working tree).
